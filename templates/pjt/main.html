{% extends "base.html" %}
{% load static %}
{% block style %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="owl/assets/owl.theme.default.min.css">
  <link rel="stylesheet" href="{% static 'css/mainpage.css' %}">
{% endblock style %}
{% block content %}
<div class="wrap">
  <h5 class="title"><span>{{request.user}}</span>ë‹˜! ì´ ì‚°ì„ <span>ì •ë³µ</span>í•´ ë³´ì„¸ìš”!</h5>
  {% if not_visited_mountains.count != 0 %}
    <div class="owl-carousel owl-theme">
      {% for mountain, distance in not_visited_mountains %}
       <div class="item">
         <a href="{% url 'mountains:mountain_detail' mountain.pk %}" class="card-list">
           <img src="{% get_static_prefix %}img/mountains/{{mountain.name}}.png" alt="{{mountain.name}}">
           <div class="mnt--info-1">
             <p class="mtnname">{{ mountain.name }}</p>
             <p class="course--cnt">{{mountain.course_set.count}}ê°œì˜ ì½”ìŠ¤</p>
            </div>
            <div class="mnt--info-2">
              <p class="emndnname">{{ mountain.emndn_name }}</p>
              <p> | </p>
              {% if distance is not None %}
                <p class="user--distance"> ğŸš— {{ distance }} km </p>
              {% else %}
                <p> &nbsp ìœ„ì¹˜ ì„¤ì • í•„ìš”</p>
              {% endif %}
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="complete">
      <p>ì™„ì „ ì •ë³µ!</p>
      <p>ì´ êµ¬ì—­ì˜ ë“±ì‚°ì™•ì€ <span>ë‚˜ì•¼ ë‚˜!</span> ğŸ‘©â€ğŸŒ¾</p>
    </div>
  {% endif %}
  
  

  {% if high_lv_mountains.count != 0 %}
    <h5 class="title">ë„ì „ì •ì‹  UP! <span>ì–´ë ¤ìš´ ì½”ìŠ¤</span></h5>
    <div class="owl-carousel owl-theme">
      {% for mountain, distance in high_lv_mountains %}
      <div class="item">
        <a href="{% url 'mountains:mountain_detail' mountain.pk %}" class="card-list">
          <img src="{% get_static_prefix %}img/mountains/{{mountain.name}}.png" alt="{{mountain.name}}">
          <div class="mnt--info-1">
            <p class="mtnname">{{ mountain.name }}</p>
            <p class="course--cnt">{{mountain.course_set.count}}ê°œì˜ ì½”ìŠ¤</p>
            </div>
            <div class="mnt--info-2">
              <p class="emndnname">{{ mountain.emndn_name }}</p>
              <p> | </p>
              {% if distance is not None %}
                <p class="user--distance"> ğŸš— {{ distance }} km </p>
              {% else %}
                <p> &nbsp ìœ„ì¹˜ ì„¤ì • í•„ìš”</p>
              {% endif %}
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  {% endif %}
      
  {% if low_lv_mountains.count != 0 %}
    <h5 class="title">ê°€ë³ê²Œ <span>íŠ¸ë ˆí‚¹ ì½”ìŠ¤</span>ì–´ë– ì„¸ìš”?</h5>
    <div class="owl-carousel owl-theme">
      {% for mountain, distance in low_lv_mountains %}
      <div class="item">
        <a href="{% url 'mountains:mountain_detail' mountain.pk %}" class="card-list">
          <img src="{% get_static_prefix %}img/mountains/{{mountain.name}}.png" alt="{{mountain.name}}">
          <div class="mnt--info-1">
            <p class="mtnname">{{ mountain.name }}</p>
            <p class="course--cnt">{{ mountain.course_set.count}}ê°œì˜ ì½”ìŠ¤</p>
            </div>
            <div class="mnt--info-2">
              <p class="emndnname">{{ mountain.emndn_name }}</p>
              <p> | </p>
              {% if distance is not None %}
                <p class="user--distance"> ğŸš— {{ distance }} km </p>
              {% else %}
                <p> &nbsp ìœ„ì¹˜ ì„¤ì • í•„ìš”</p>
              {% endif %}
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  {% endif %}


  {% if  random_user.count != 0 %}
    <h5 class="title"><span>{{ random_user.nickname }}</span>ë‹˜ì´ <span>ì¶”ì²œ</span>í•˜ëŠ” ì‚°!</h5>
    <div class="recommended-mtn">
      {% for mountain, distance in user_like_mountains %}
        <a href="{% url 'mountains:mountain_detail' mountain.pk %}" class="card-list">
          <img src="{% get_static_prefix %}img/mountains/{{mountain.name}}.png" alt="{{mountain.name}}">
          <div class="mnt--info-1">
            <p class="mtnname">{{ mountain.name }}</p>
            <p class="course--cnt">{{ mountain.course_set.count}}ê°œì˜ ì½”ìŠ¤</p>
          </div>
          <div class="mnt--info-2">
            <p class="emndnname">{{ mountain.emndn_name }}</p>
            <p> | </p>
            {% if distance is not None %}
              <p class="user--distance"> ğŸš— {{ distance }} km </p>
            {% else %}
              <p> &nbsp ìœ„ì¹˜ ì„¤ì • í•„ìš”</p>
            {% endif %}
          </div>
        </a>
      {% endfor %}
    </div>
  {% endif %}
</div>
{% endblock content %}

{% block javascript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script src="{% static 'js/main.js' %}"></script>
{% endblock javascript %}