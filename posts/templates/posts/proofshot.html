{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}
{% block style %}
{% endblock style %}
<style>
</style>
{% block content %}
<div style="wrap">
  <div class="container my-12 mx-auto px-4 md:px-12">
    <div class="flex flex-wrap -mx-1 lg:-mx-4">
      {% for post in image_posts %}
        <!-- Column -->
        <div class="my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3 xl:my-4 xl:px-4 xl:w-1/6">
          <!-- Article -->
            <article class="overflow-hidden rounded-lg shadow-lg">

                <a href="{% url 'posts:detail' post.pk %}">
                  {% with first_image_url=post.content|get_first_image_from_content %}
                    {% if first_image_url %}
                      <img class="block h-[300px] w-full object-cover"  src="{{ first_image_url }}" alt="썸네일">
                    {% endif %}
                  {% endwith %}
                </a>

                <header class="flex items-center justify-between leading-tight p-2 md:p-4">
                    <h1 class="text-lg truncate ...">
                        <a class="no-underline hover:underline text-black" href="{% url 'accounts:profile' post.user.pk %}">
                          {{ post.user.nickname }}
                        </a>
                      </h1>
                    <p class="text-grey-darker text-sm truncate ...">
                      {{ post.created_at|date:'Y-m-d' }}
                    </p>
                </header>
              </article>
            <!-- END Article -->
        </div>
        <!-- END Column -->
        {% endfor %}
      </div>
  </div>
</div>
{% endblock content %}
{% block javascript %}
{% endblock javascript %}
